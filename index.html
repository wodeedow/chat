<!DOCTYPE html>
<html>
<head>
  <title>Cage聊天室</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
  <!--<link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
  -->
  <link rel="stylesheet" type="text/css" href="css/awsome.css"></head>
<body>
  <div class="container">
    <div id="login" class="middle" style="display:none">
      <legend>进入聊天室</legend>
      <div class="form-group">
        <label for="username">用户名</label>
        <input type="text" class="form-control" id="username" placeholder="请输入用户名"></div>
      <div class="form-group">
        <label for="password">密码</label>
        <input type="password" class="form-control" id="password" placeholder="密码"></div>
      <div class="form-group">
        <button class="btn btn-primary" onclick="login()">登录</button>
        <button class="btn btn-default" data-toggle="modal" data-target="#myModal">注册</button>
      </div>
      <div class="form-group">
        <p class="text-danger" id="error"></p>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">更新历史</div>
        <div class="panel-body">
          <li>
            <small>增加消息提醒。</small>
          </li>
          <li>
            <small>增加个人头像。</small>
          </li>
        </div>
      </div>
    </div>
    <div id="chat" class="middle row" style="display:none">
      <div class="userslist col-xs-3 col-md-3">
        <div class="panel panel-info">
          <div class="panel-heading">
            <span class="glyphicon glyphicon-user"></span>
            用户列表
            <a href="#" class="pull-right" title="设置" data-toggle="modal" data-target="#settings">
              <span class="glyphicon glyphicon-cog"></span>
            </a>
          </div>
          <div class="list-group" id="userspanel"></div>
          <div class="panel-footer">
            当前登录用户： <strong id="currentName"></strong>
            ，
            <span>
              <a href="#" onclick="logout()">[注销]</a>
            </span>
          </div>
        </div>
      </div>
      <div class="mainpanel col-xs-9 col-md-9">
        <div class="panel panel-info">
          <div class="panel-heading">
            <span class="glyphicon glyphicon-list-alt"></span>
            主面板
          </div>
          <div class="panel-body">
            <p class="text-muted">
              选择一名好友聊天吧！
              <a href="#" id="changetalk" style="display:none">[换个好友]</a>
            </p>
            <div id="messagepanel">
              <p>
                <span class="glyphicon glyphicon-comment"></span>
                与[
                <span id="talkto"></span>
                ]聊天中
              </p>
              <div class="middle" id="messagesDiv"></div>
              <textarea class="form-control" rows="3" id="messageInput"></textarea>
              <button type="submit" class="btn btn-primary pull-right" onclick="sendMessage()">发送</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Register Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="myModalLabel">注册</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="username">用户名</label>
            <input type="text" class="form-control" id="registername" placeholder="请输入用户名"></div>
          <div class="form-group">
            <label for="password">密码</label>
            <input type="password" class="form-control" id="registerpassword" placeholder="密码"></div>
          <div class="form-group">
            <label for="password">确认密码</label>
            <input type="password" class="form-control" id="confirmpassword" placeholder="确认密码"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-primary" onclick="register()">提交</button>
        </div>
      </div>
      <!-- /.modal-content --> </div>
    <!-- /.modal-dialog --> </div>
  <!-- /.modal -->
  <!-- settings Modal -->
  <div class="modal fade" id="settings" tabindex="-1" role="dialog" aria-labelledby="settingsLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="settingsLabel">用户设置</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="photo">修改头像链接</label>
            <input type="text" class="form-control" id="photosrc" placeholder="输入链接"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-primary" onclick="setting()">提交</button>
        </div>
      </div>
      <!-- /.modal-content --> </div>
    <!-- /.modal-dialog --> </div>
  <!-- /.modal -->
  <footer class=""></footer>
  <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
  <script type="text/javascript" src="js/jquery.cookie.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/firebase.js"></script>
  <script type="text/javascript" src="js/process.js"></script>
</body>
</html>